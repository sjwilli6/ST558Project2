---
title: "Project 2"
date: "2023-07-09"
author: "Spencer Williams & Stephen Macropoulos"
output: 
  github_document:
    toc: true
    html_preview: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introduction

The (Online News Popularity)[https://archive.ics.uci.edu/dataset/332/online+news+popularity] is a data set with a heterogeneous set of features about articles published by (Mashable)[www.mashable.com]. Multivariate data was gathered on sixty-one variables over a two year span. Our end result is to predict the number of shares in social networks. Below are some of the variables we will be looking at to help our prediction.

`Shares` - Number of shares (target)
`n_tokens_title` - Number of words in the title
`n_unique_tokens` - Rate of unique words in the content
`num_imgs` - Number of images
`num_videos` - Number of videos
`num_keywords` - Number of keywords in the metadata
`data_channel_is *` - There are six binary variables that will only be attributed to one variable. Theses include lifestyle, entertainment, business, social media, tech, and world.
`rate_positive_words` - Rate of positive words among non-neutral
`rate_negative_words` - Rate of negative words among non-neutral

# Purpose and Methods

Our end goal is to be able to predict the number of shares based on having data from the eight variables listed above. We are going to split the data set into two sets: training (70%) and test (30%). (Linear Regression Models)[https://en.wikipedia.org/wiki/Linear_regression] and (Ensemble Tree-Based Models)[https://towardsdatascience.com/decision-trees-understanding-the-basis-of-ensemble-methods-e075d5bfa704] will be utilized to help us predict the total number of shares. *Random Forest Models* and *Boosted Tree Models* will be chosen using cross-validation.

# Reading in Data

The read.csv() file name will change depending on who is importing the Online News Popularity data. We have dropped any unneccessary variables that will not be used to help us in our predictions.

```{r read, include=TRUE}
# Will need to change this depending on who is working!
newsPop <- read.csv("/Users/monicabeingolea/Documents/ST558/OnlineNewsPopularity/OnlineNewsPopularity.csv")
# Only selecting the columns of interest
newsPop <- newsPop[ , c(3,5,10,11,13,14:19,49,50,61)]
# Check for missing values
sum(is.na(newsPop))
```

We want to subset the data to work based on the different data channel of interest. Creating a new variable called `data_channel` will allow this to work successfully. This way, we can turn our focus to a singular column as opposed to having six binary variables. We will use the `mutate` function in the *tidyverse* package. Replacing NA's in the `data_channel` variable and setting it as a factor is very important in order to help us predict the total shares.


```{r dataChannel, include=TRUE}
library(tidyverse)
# Create new variable data_channel
newsPop <- newsPop %>% mutate(data_channel = case_when(data_channel_is_bus == 1 ~ "Business", data_channel_is_entertainment == 1 ~ "Entertainment", data_channel_is_lifestyle == 1 ~ "Lifestyle", data_channel_is_socmed == 1 ~ "SocialMedia", data_channel_is_tech == 1 ~ "Tech", data_channel_is_world == 1 ~ "World"))
# Replace any missing values
newsPop$data_channel <- replace_na(newsPop$data_channel, "Other")
# Make data_channel a factor variable
newsPop$data_channel <- as.factor(newsPop$data_channel)
```

Since we have added a new `data_channel` variable with the appropriate variables, the data_channel_is* variables can be removed from our data set.

```{r remove, include=TRUE}
newsPop <- newsPop[ , -c(6:11)]
```
